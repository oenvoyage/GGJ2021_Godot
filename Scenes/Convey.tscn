[gd_scene load_steps=14 format=2]

[ext_resource path="res://Prefabs/straight_belt_elements.tscn" type="PackedScene" id=1]
[ext_resource path="res://Prefabs/straight_structure.tscn" type="PackedScene" id=2]
[ext_resource path="res://Prefabs/LuggagesSpawner.tscn" type="PackedScene" id=3]
[ext_resource path="res://Prefabs/curve_structure.tscn" type="PackedScene" id=4]
[ext_resource path="res://Prefabs/curve_belt_elements.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scripts/Controller.gd" type="Script" id=6]
[ext_resource path="res://Prefabs/switch.tscn" type="PackedScene" id=7]
[ext_resource path="res://Scripts/SwitchCtr.gd" type="Script" id=8]
[ext_resource path="res://materials/white.material" type="Material" id=9]
[ext_resource path="res://Prefabs/arrival_box.tscn" type="PackedScene" id=10]

[sub_resource type="BoxShape" id=1]

[sub_resource type="CubeMesh" id=2]

[sub_resource type="BoxShape" id=4]
extents = Vector3( 2.5, 2, 1.6 )

[node name="Convey" type="Spatial"]

[node name="Camera" type="Camera" parent="."]
transform = Transform( -0.891479, 0.246279, -0.38028, 0.0561981, 0.89298, 0.446574, 0.449564, 0.37674, -0.809913, -38.106, 45.0122, -103.75 )
fov = 15.9
size = 62.36
near = 0.33
far = 479.6

[node name="Ground" type="StaticBody" parent="."]
transform = Transform( 1.95, 0, 0, 0, 1, 0, 0, 0, 1.4, 0, 0, -31.2 )

[node name="CollisionShape" type="CollisionShape" parent="Ground"]
shape = SubResource( 1 )

[node name="GroundMesh" type="MeshInstance" parent="Ground"]
transform = Transform( 30, 0, 0, 0, 0.5, 0, 0, 0, 30, 0, 0, 0 )
mesh = SubResource( 2 )
material/0 = ExtResource( 9 )

[node name="LuggagesSpawner" parent="." instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.7, 3.9, -0.100001 )

[node name="Controller" type="Spatial" parent="."]
script = ExtResource( 6 )

[node name="Straight_N_1" type="Spatial" parent="Controller"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 13.2, 0, 0 )

[node name="straight_structure" parent="Controller/Straight_N_1" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Straight_N_1" instance=ExtResource( 1 )]

[node name="Straight_N_2" type="Spatial" parent="Controller"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 8.1, 0, 0 )

[node name="straight_structure" parent="Controller/Straight_N_2" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Straight_N_2" instance=ExtResource( 1 )]

[node name="Straight_N_3" type="Spatial" parent="Controller"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 0 )

[node name="straight_structure" parent="Controller/Straight_N_3" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Straight_N_3" instance=ExtResource( 1 )]

[node name="Straight_N_4" type="Spatial" parent="Controller"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.1, 0, 0 )

[node name="straight_structure" parent="Controller/Straight_N_4" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Straight_N_4" instance=ExtResource( 1 )]

[node name="Straight_N_5" type="Spatial" parent="Controller"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -7.2, 0, 0 )

[node name="straight_structure" parent="Controller/Straight_N_5" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Straight_N_5" instance=ExtResource( 1 )]

[node name="Straight_N_6" type="Spatial" parent="Controller"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -12.3, 0, 0 )

[node name="straight_structure" parent="Controller/Straight_N_6" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Straight_N_6" instance=ExtResource( 1 )]

[node name="Curve_NE_Back" type="Spatial" parent="Controller"]
transform = Transform( -1.62921e-07, 0, -1, 0, 1, 0, 1, 0, -1.62921e-07, -22.814, 0, -9.962 )

[node name="curve_structure" parent="Controller/Curve_NE_Back" instance=ExtResource( 4 )]

[node name="curve_belt_elements" parent="Controller/Curve_NE_Back" instance=ExtResource( 5 )]

[node name="Curve_NE_Front" type="Spatial" parent="Controller"]
transform = Transform( -1, 0, 2.06632e-07, 0, 1, 0, -2.06632e-07, 0, -1, -12.854, 0, -19.998 )

[node name="curve_structure" parent="Controller/Curve_NE_Front" instance=ExtResource( 4 )]

[node name="curve_belt_elements" parent="Controller/Curve_NE_Front" instance=ExtResource( 5 )]

[node name="Straight_S_3" type="Spatial" parent="Controller"]
transform = Transform( -1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, -1, -8.2, 0, -20 )

[node name="straight_structure" parent="Controller/Straight_S_3" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Straight_S_3" instance=ExtResource( 1 )]

[node name="Switch_S_3" type="Spatial" parent="Controller"]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -3.2, 7.45058e-09, -20 )
script = ExtResource( 8 )

[node name="switch" parent="Controller/Switch_S_3" instance=ExtResource( 7 )]

[node name="straight_belt_elements" parent="Controller/Switch_S_3" instance=ExtResource( 1 )]

[node name="Area" type="Area" parent="Controller/Switch_S_3"]
transform = Transform( -1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -3.3, -0.3, -20 )

[node name="CollisionShape" type="CollisionShape" parent="Controller/Switch_S_3/Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.3, 0, -20.1 )
shape = SubResource( 4 )

[node name="Straight_S_2" type="Spatial" parent="Controller"]
transform = Transform( -1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, -1, 2.2, 0, -20 )

[node name="straight_structure" parent="Controller/Straight_S_2" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Straight_S_2" instance=ExtResource( 1 )]

[node name="Switch_S_2" type="Spatial" parent="Controller"]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 7, 7.45058e-09, -20 )
script = ExtResource( 8 )

[node name="switch" parent="Controller/Switch_S_2" instance=ExtResource( 7 )]

[node name="straight_belt_elements" parent="Controller/Switch_S_2" instance=ExtResource( 1 )]

[node name="Area" type="Area" parent="Controller/Switch_S_2"]
transform = Transform( -1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -3.3, -0.3, -20 )

[node name="CollisionShape" type="CollisionShape" parent="Controller/Switch_S_2/Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.3, 0, -20.1 )
shape = SubResource( 4 )

[node name="Straight_S_1" type="Spatial" parent="Controller"]
transform = Transform( -1, 0, -2.98023e-08, 0, 1, 0, 2.98023e-08, 0, -1, 12.1, 0, -20 )

[node name="straight_structure" parent="Controller/Straight_S_1" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Straight_S_1" instance=ExtResource( 1 )]

[node name="Switch_S_1" type="Spatial" parent="Controller"]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 17.2, 7.45058e-09, -20 )
script = ExtResource( 8 )

[node name="switch" parent="Controller/Switch_S_1" instance=ExtResource( 7 )]

[node name="straight_belt_elements" parent="Controller/Switch_S_1" instance=ExtResource( 1 )]

[node name="Area" type="Area" parent="Controller/Switch_S_1"]
transform = Transform( -1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -3.3, -0.3, -20 )

[node name="CollisionShape" type="CollisionShape" parent="Controller/Switch_S_1/Area"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.3, 0, -20.1 )
shape = SubResource( 4 )

[node name="Exit_3" type="Spatial" parent="Controller"]
transform = Transform( 7.35137e-08, 0, -1, 0, 1, 0, 1, 0, 7.35137e-08, -5.1, -3, -25.8 )

[node name="straight_structure" parent="Controller/Exit_3" instance=ExtResource( 2 )]
visible = false

[node name="straight_belt_elements" parent="Controller/Exit_3" instance=ExtResource( 1 )]
transform = Transform( 0.996195, -0.0871557, -2.79741e-10, 0.0871557, 0.996195, 6.40714e-09, -2.79741e-10, -6.40714e-09, 1, 0.5, -0.3, 0 )

[node name="Exit_Curve_3" type="Spatial" parent="Controller"]
transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, -5.214, 0, -21.914 )

[node name="curve_structure" parent="Controller/Exit_Curve_3" instance=ExtResource( 4 )]

[node name="curve_belt_elements" parent="Controller/Exit_Curve_3" instance=ExtResource( 5 )]

[node name="Arrival_box_3" parent="Controller" instance=ExtResource( 10 )]
transform = Transform( -1, 0, 3.25841e-07, 0, 1, 0, -3.25841e-07, 0, -1, -17.3, 1.3, -32 )

[node name="Exit_2" type="Spatial" parent="Controller"]
transform = Transform( 7.35137e-08, 0, -1, 0, 1, 0, 1, 0, 7.35137e-08, 5.4, 0, -25.8 )

[node name="straight_structure" parent="Controller/Exit_2" instance=ExtResource( 2 )]
visible = false

[node name="straight_belt_elements" parent="Controller/Exit_2" instance=ExtResource( 1 )]
transform = Transform( 0.996195, -0.0871557, -2.79741e-10, 0.0871557, 0.996195, 6.40714e-09, -2.79741e-10, -6.40714e-09, 1, 0.5, -0.3, 0 )

[node name="Exit_Straight_2" type="Spatial" parent="Controller"]
transform = Transform( 7.35137e-08, 0, -1, 0, 1, 0, 1, 0, 7.35137e-08, 5.4, 0, -29.8 )

[node name="straight_structure" parent="Controller/Exit_Straight_2" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Exit_Straight_2" instance=ExtResource( 1 )]

[node name="Exit_Curve_2" type="Spatial" parent="Controller"]
transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 5.386, 0, -30.314 )

[node name="curve_structure" parent="Controller/Exit_Curve_2" instance=ExtResource( 4 )]

[node name="curve_belt_elements" parent="Controller/Exit_Curve_2" instance=ExtResource( 5 )]

[node name="Arrival_box_2" parent="Controller" instance=ExtResource( 10 )]
transform = Transform( -1, 0, 3.25841e-07, 0, 1, 0, -3.25841e-07, 0, -1, -7, 1.7, -40.9 )

[node name="Exit_1" type="Spatial" parent="Controller"]
transform = Transform( 7.35137e-08, 0, -1, 0, 1, 0, 1, 0, 7.35137e-08, 15.7, 0, -25.8 )

[node name="straight_structure" parent="Controller/Exit_1" instance=ExtResource( 2 )]
visible = false

[node name="straight_belt_elements" parent="Controller/Exit_1" instance=ExtResource( 1 )]
transform = Transform( 0.996195, -0.0871557, -2.79741e-10, 0.0871557, 0.996195, 6.40714e-09, -2.79741e-10, -6.40714e-09, 1, 0.5, -0.3, 0 )

[node name="Exit_Straight_1_1" type="Spatial" parent="Controller"]
transform = Transform( 7.35137e-08, 0, -1, 0, 1, 0, 1, 0, 7.35137e-08, 15.7, 0, -29.8 )

[node name="straight_structure" parent="Controller/Exit_Straight_1_1" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Exit_Straight_1_1" instance=ExtResource( 1 )]

[node name="Exit_Straight_1_2" type="Spatial" parent="Controller"]
transform = Transform( 7.35137e-08, 0, -1, 0, 1, 0, 1, 0, 7.35137e-08, 15.7, 0, -34.9 )

[node name="straight_structure" parent="Controller/Exit_Straight_1_2" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Exit_Straight_1_2" instance=ExtResource( 1 )]

[node name="Exit_Straight_1_3" type="Spatial" parent="Controller"]
transform = Transform( 7.35137e-08, 0, -1, 0, 1, 0, 1, 0, 7.35137e-08, 15.7, 0, -40.1 )

[node name="straight_structure" parent="Controller/Exit_Straight_1_3" instance=ExtResource( 2 )]

[node name="straight_belt_elements" parent="Controller/Exit_Straight_1_3" instance=ExtResource( 1 )]

[node name="Exit_Curve_1" type="Spatial" parent="Controller"]
transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 15.686, 0, -40.614 )

[node name="curve_structure" parent="Controller/Exit_Curve_1" instance=ExtResource( 4 )]

[node name="curve_belt_elements" parent="Controller/Exit_Curve_1" instance=ExtResource( 5 )]

[node name="Arrival_box_1" parent="Controller" instance=ExtResource( 10 )]
transform = Transform( -1, 0, 3.25841e-07, 0, 1, 0, -3.25841e-07, 0, -1, 3.6, 1.3, -50.6 )

[node name="Curve_NW_Back" type="Spatial" parent="Controller"]
transform = Transform( 1, 0, -1.19209e-07, 0, 1, 0, 1.19209e-07, 0, 1, 17.786, 0, -0.014 )

[node name="curve_structure" parent="Controller/Curve_NW_Back" instance=ExtResource( 4 )]

[node name="curve_belt_elements" parent="Controller/Curve_NW_Back" instance=ExtResource( 5 )]

[node name="Curve_NW_Front" type="Spatial" parent="Controller"]
transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 27.786, 0, -10.014 )

[node name="curve_structure" parent="Controller/Curve_NW_Front" instance=ExtResource( 4 )]

[node name="curve_belt_elements" parent="Controller/Curve_NW_Front" instance=ExtResource( 5 )]
[connection signal="input_event" from="Controller/Switch_S_3/Area" to="Controller/Switch_S_3" method="_on_Area_input_event"]
[connection signal="input_event" from="Controller/Switch_S_2/Area" to="Controller/Switch_S_2" method="_on_Area_input_event"]
[connection signal="input_event" from="Controller/Switch_S_1/Area" to="Controller/Switch_S_1" method="_on_Area_input_event"]
